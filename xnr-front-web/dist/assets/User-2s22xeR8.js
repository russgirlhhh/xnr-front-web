import{n as $}from"./newCards-D_wib9YV.js";import{_ as z,u as E,a as R,b as a,z as N,c as D,o as r,m as n,p as t,e as V,f as k,t as p,s as b,q as C,v as G,x as j,l as F}from"./index-CEFTijA-.js";import{e as H,f as J}from"./api-whLdgNP3.js";const S=u=>(G("data-v-207cde43"),u=u(),j(),u),K={class:"info"},M={class:"author"},O={class:"pho"},P={class:"ntm"},Q={class:"name"},W={key:0,class:"xnr-icon-woman"},X={key:1,class:"xnr-icon-man"},Y={class:"uid"},Z={class:"userInfo"},ee={class:"menu"},se={key:1,class:"mItem"},ae=S(()=>t("span",{class:"xnr-icon-suo"},null,-1)),te={key:3,class:"mItem"},oe=S(()=>t("span",{class:"xnr-icon-suo"},null,-1)),le={class:"s-cards"},re={__name:"User",setup(u){const g=F(),T=E(),q=R(),c=a(null),o=a({}),i=a([]),A=async()=>{let e={userId:c.value},l=await J(e,()=>{setTimeout(()=>{T.push("/")},1500)});l&&(o.value=l.data)},y=a(0),d=a(0),m=e=>{d.value=e,y.value=e,U()},f=a(!1);a({});const U=async()=>{f.value=!0;let e={type:y.value,userId:c.value},s=await H(e);f.value=!1,s&&(i.value=s.data.list,B())},v=a([]),I=a([]),h=a([]),L=a([]);function B(){v.value=[],I.value=[],h.value=[],L.value=[];let e=parseInt(i.value.length/4);i.value.forEach((s,l)=>{if(e==0){v.value.push(s);return}if(l<e){v.value.push(s);return}if(l<2*e){I.value.push(s);return}if(l<3*e){h.value.push(s);return}L.value.push(s)})}const _=a(!1),x=()=>{const e=g.getters.getLoginUserInfo;e&&e.userId===c.value?_.value=!0:_.value=!1};return N(()=>g.state.loginUserInfo,(e,s)=>{x()},{immediate:!0,deep:!0}),N(()=>q.params.userId,(e,s)=>{e&&(c.value=e,x(),A(),U())},{immediate:!0,deep:!0}),(e,s)=>{const l=D("Avatar");return r(),n("div",null,[t("div",K,[t("div",M,[t("div",O,[V(l,{width:100,userId:o.value.userId},null,8,["userId"])]),t("div",P,[t("div",Q,[k(p(o.value.nickName)+" ",1),o.value.sex==0?(r(),n("span",W)):b("",!0),o.value.sex==1?(r(),n("span",X)):b("",!0)]),t("div",Y," 账号："+p(o.value.userId),1),t("div",Z," 发帖数："+p(o.value.postCount)+" 获赞："+p(o.value.likeCount),1)])])]),t("div",ee,[t("div",{class:C(["mItem",d.value==0?"active":""]),onClick:s[0]||(s[0]=w=>m(0))},"发帖",2),_.value?(r(),n("div",{key:0,class:C(["mItem",d.value==1?"active":""]),onClick:s[1]||(s[1]=w=>m(1))},"评论过",2)):(r(),n("div",se,[ae,k(" 评论过 ")])),_.value?(r(),n("div",{key:2,class:C(["mItem",d.value==2?"active":""]),onClick:s[2]||(s[2]=w=>m(2))},"喜爱",2)):(r(),n("div",te,[oe,k(" 喜爱 ")]))]),t("div",le,[V($,{cardList:i.value,cardList1:v.value,cardList2:I.value,cardList3:h.value,cardList4:L.value,loading:f.value},null,8,["cardList","cardList1","cardList2","cardList3","cardList4","loading"])])])}}},ie=z(re,[["__scopeId","data-v-207cde43"]]);export{ie as default};
